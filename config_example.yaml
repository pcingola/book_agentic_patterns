models:
  default:
    model_family: openai
    model_name: gpt-4o
    api_key: your-openai-api-key-here
    timeout: 120

  fast:
    model_family: openai
    model_name: gpt-4o-mini
    api_key: your-openai-api-key-here
    timeout: 60

  azure_gpt4:
    model_family: azure
    model_name: gpt-4
    api_key: your-azure-api-key-here
    endpoint: https://your-resource.openai.azure.com/
    api_version: 2024-02-15-preview
    timeout: 120

  bedrock_claude:
    model_family: bedrock
    model_name: anthropic.claude-3-5-sonnet-20240620-v1:0
    aws_region: us-east-1
    aws_profile: null
    claude_sonnet_1m_tokens: false
    timeout: 180

  bedrock_claude_extended:
    model_family: bedrock
    model_name: anthropic.claude-sonnet-4-20250514-v1:0
    aws_region: us-east-1
    aws_profile: null
    claude_sonnet_1m_tokens: true
    timeout: 300

  ollama_local:
    model_family: ollama
    model_name: llama3
    url: http://localhost:11434/v1
    timeout: 60

  openrouter_claude:
    model_family: openrouter
    model_name: anthropic/claude-3.5-sonnet
    api_key: your-openrouter-api-key-here
    api_url: https://openrouter.ai/api/v1
    timeout: 120

  openrouter_gpt4:
    model_family: openrouter
    model_name: openai/gpt-4o
    api_key: your-openrouter-api-key-here
    api_url: https://openrouter.ai/api/v1
    timeout: 120

embeddings:
  default:
    provider: openrouter
    model_name: openai/text-embedding-3-small
    api_key: your-openrouter-api-key-here
    api_url: https://openrouter.ai/api/v1
    dimensions: 1536

  openai:
    provider: openai
    model_name: text-embedding-3-small
    api_key: your-openai-api-key-here
    dimensions: 1536

  openai_large:
    provider: openai
    model_name: text-embedding-3-large
    api_key: your-openai-api-key-here
    dimensions: 3072

  ollama_local:
    provider: ollama
    model_name: nomic-embed-text
    url: http://localhost:11434/v1

  sentence_transformers:
    provider: sentence_transformers
    model_name: all-MiniLM-L6-v2
    device: cpu

# context:
#   truncation:
#     default:
#       threshold: 5000
#       max_preview_tokens: 500
#       rows_head: 20
#       rows_tail: 10
#       lines_head: 50
#       lines_tail: 20
#       json_array_head: 10
#       json_array_tail: 5
#       json_max_keys: 20
#     sql_query:
#       threshold: 2000
#       max_preview_tokens: 1000
#       rows_head: 30
#       rows_tail: 10
#       lines_head: 50
#       lines_tail: 20
#       json_array_head: 10
#       json_array_tail: 5
#       json_max_keys: 20
#     log_search:
#       threshold: 10000
#       max_preview_tokens: 300
#       rows_head: 20
#       rows_tail: 10
#       lines_head: 50
#       lines_tail: 20
#       json_array_head: 10
#       json_array_tail: 5
#       json_max_keys: 20

auth:
  jwt_secret: change-this-secret-in-production
  jwt_algorithm: HS256

sandbox:
  # docker_host: "unix:///path/to/.rd/docker.sock"
  default:
    image: python:3.12-slim
    cpu_limit: 1.0
    memory_limit: 512m
    command_timeout: 30
    session_timeout: 3600
    container_prefix: sandbox
  repl:
    image: agentic-patterns-repl:latest

vectordb:
  default:
    backend: chroma
    persist_directory: data/db/chroma

  postgres:
    backend: pgvector
    connection_string: postgresql://user:password@localhost:5432/vectordb

openapi:
  request_timeout: 30
  max_retries: 3
  categorization_batch_size: 10

mcp_servers:
  filesystem:
    type: client
    url: http://localhost:8001/mcp
    read_timeout: 300

  code_analysis:
    type: client
    url: http://localhost:8002/mcp
    read_timeout: 60

  template:
    type: client
    url: http://localhost:8000/mcp
    url_isolated: http://localhost:8001/mcp
    read_timeout: 60

  data_analysis:
    type: client
    url: http://localhost:8010/mcp
    read_timeout: 300

  sql:
    type: client
    url: http://localhost:8011/mcp
    read_timeout: 120

  my_server:
    type: server
    name: "My MCP Server"
    instructions: "Provides code analysis tools"
    port: 8003

  # Infrastructure MCP clients (used by the distributed agent)
  file_ops:
    type: client
    url: http://localhost:8100/mcp
    read_timeout: 300

  sandbox:
    type: client
    url: http://localhost:8101/mcp
    read_timeout: 300

  todo:
    type: client
    url: http://localhost:8102/mcp
    read_timeout: 60

  format_conversion:
    type: client
    url: http://localhost:8103/mcp
    read_timeout: 120

  data_viz:
    type: client
    url: http://localhost:8104/mcp
    read_timeout: 300

  repl:
    type: client
    url: http://localhost:8105/mcp
    read_timeout: 300

  vocabulary:
    type: client
    url: http://localhost:8106/mcp
    read_timeout: 60

  openapi:
    type: client
    url: http://localhost:8107/mcp
    read_timeout: 120

a2a:
  clients:
    nl2sql:
      url: http://localhost:8200
      timeout: 300
    data_analysis:
      url: http://localhost:8201
      timeout: 300
    vocabulary:
      url: http://localhost:8202
      timeout: 300
    openapi:
      url: http://localhost:8203
      timeout: 300

agents:
  skilled:
    system_prompt: the_complete_agent/agent_skilled.md
    tools:
      - agentic_patterns.tools.file:get_all_tools
      - agentic_patterns.tools.sandbox:get_all_tools
      - agentic_patterns.tools.todo:get_all_tools

  coordinator:
    system_prompt: the_complete_agent/agent_coordinator.md
    tools:
      - agentic_patterns.tools.file:get_all_tools
      - agentic_patterns.tools.sandbox:get_all_tools
      - agentic_patterns.tools.todo:get_all_tools
      - agentic_patterns.tools.format_conversion:get_all_tools
    sub_agents:
      - agentic_patterns.agents.data_analysis:get_spec
      - agentic_patterns.agents.sql:get_spec
      - agentic_patterns.agents.vocabulary:get_spec
      - agentic_patterns.agents.openapi:get_spec

  full_agent:
    system_prompt: the_complete_agent/agent_full.md
    tools:
      - agentic_patterns.tools.file:get_all_tools
      - agentic_patterns.tools.sandbox:get_all_tools
      - agentic_patterns.tools.todo:get_all_tools
      - agentic_patterns.tools.format_conversion:get_all_tools
    sub_agents:
      - agentic_patterns.agents.data_analysis:get_spec
      - agentic_patterns.agents.sql:get_spec
      - agentic_patterns.agents.vocabulary:get_spec
      - agentic_patterns.agents.openapi:get_spec

  infrastructure_agent:
    system_prompt: the_complete_agent/agent_infrastructure.md
    mcp_servers: [file_ops, sandbox, todo, format_conversion]
    a2a_clients: [nl2sql, data_analysis, vocabulary, openapi]
